const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/markdown-C1PDMCFn.js","assets/index-XvzlHVTK.js"])))=>i.map(i=>d[i]);
import{t as I,as as P,at as b,au as y,av as C,aw as M,ax as S,ay as E,L as x,A as L,p as R,M as U,N as D,g as s,_ as j,q as A,h as B,k as F,m as G,n as H,a as K,s as m,G as g,x as q,B as z,e as W}from"./index-CV3uTZ8I.js";function X(f,t,n=!1,e=!1,a=!1){var o=f,c="";I(()=>{var d=P;if(c!==(c=t()??"")&&(d.nodes!==null&&(b(d.nodes.start,d.nodes.end),d.nodes=null),c!=="")){var p=n?C:e?M:void 0,r=y(n?"svg":e?"math":"template",p);r.innerHTML=c;var i=n||e?r:r.content;if(S(E(i),i.lastChild),n||e)for(;E(i);)o.before(E(i));else o.before(i)}})}const J={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_ENDPOINT:"/"},Q=J,Y=L,te=async(f,t)=>{let n;try{if(n=await fetch((Q.VITE_API_ENDPOINT||"")+`api/data/notebook/${t}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}}),n.status===404)throw new Error(`${n.url} Not Found.`)}catch(a){return{error:x(a)}}let e;try{if(e=await n.json(),e===null)return{error:`${Y.NOTEBOOK_ERROR}`}}catch(a){return{error:x(a)}}return e&&"error"in e&&e.error?{error:e.error}:e};var Z=q('<span data-viewnote-markdown=""><!></span>');function ne(f,t){R(t,!0);const n=/^\s*[-*+]\s+\[[xX \u00a0]\s*\]/;let e=U(t,"disableLinks",3,!1),a=m(null),o=m(null);D(()=>{s(a)&&s(o)||j(()=>import("./markdown-C1PDMCFn.js"),__vite__mapDeps([0,1])).then(l=>{A(a,l.renderMarkdown,!0),A(o,l.matter,!0)})});const c=g(()=>s(a)?s(a)(t.viewText,e()):""),d=g(()=>!t.onViewTextUpdate);function p(l){if(!t.onViewTextUpdate||!s(o))return;const h=l.target;if(h.tagName!=="INPUT"||h.type!=="checkbox")return;const w=h.id;if(!w||!w.startsWith("cbx_"))return;const T=parseInt(w.slice(4),10);if(isNaN(T)||T<0)return;const O=h.checked,v=s(o)(t.viewText),u=v.content.split(`
`);let N=0;for(let _=0;_<u.length;_++)if(n.test(u[_])){if(N===T){u[_]=u[_].replace(/\[\s*(x|\s)\s*\]/i,O?"[x]":"[ ]");const k=u.join(`
`),V=Object.keys(v.data).length>0?s(o).stringify(k,v.data):k;t.onViewTextUpdate(V);return}N++}}var r=Z(),i=W(r);X(i,()=>s(c)),I(()=>{B(r,1,`viewnote_content ${s(d)?"md-readonly":""}`),F(r,"role",t.onViewTextUpdate?"presentation":void 0)}),G("click",r,function(...l){(t.onViewTextUpdate?p:void 0)?.apply(this,l)}),H(f,r),K()}z(["click"]);export{ne as V,te as g};
